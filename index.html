<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculateur de Date Avanc√© (Mobile)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* CSS pour l'aspect mobile et le centrage */
        body {
            /* Propri√©t√©s de fond de l'image (√Ä remplacer par votre chemin ou URL) */

            /* Propri√©t√©s pour le centrage horizontal et vertical */
            font-family: Arial, sans-serif;
            min-height: 100vh;
            display: flex; 
            justify-content: center; 
            align-items: center; 
            padding: 20px;
            margin: 0;
        }
        
        /* Conteneur de l'application (simule l'√©cran) */
        .app-container {
            max-width: 450px; 
            width: 100%; 
            background-color: #ffffff; 
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3); 
            border-radius: 12px; 
            overflow: hidden; 
        }
        .header {
            background-color: #4c51bf;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 10px; 
        }
        .app-icon {
            margin-bottom: 15px;
            border-radius: 50%; 
            border: 4px solid white;
        }

        /* CLASSE POUR LE CLIGNOTEMENT DES JOURS F√âRI√âS */
        .clignotant {
            animation: blinker 1s linear infinite;
            font-weight: bold !important;
            color: #ff5722 !important; /* Couleur orange/rouge pour l'alerte */
        }
        @keyframes blinker {
            50% { opacity: 0; }
        }

        .ferie-info {
            display: block;
            font-size: 0.8rem;
            font-weight: 600;
            color: #e53e3e; /* Rouge */
        }
    </style>
</head>
<body>

<div class="app-container">
    <header class="header p-4 shadow-md">
        <img src="TA.jpg" alt="Ic√¥ne principale" class="app-icon w-16 h-16"> 
        
        <h1 class="text-xl font-bold mb-3">Calculateur de Date Avanc√©</h1>
    </header>

    <main class="p-6">
        <div class="mb-6 p-4 bg-gray-100 rounded-lg border-l-4 border-indigo-500">
            <div class="flex items-center mb-2">
                <img src="TA.jpg" alt="Ic√¥ne calendrier" class="w-5 h-5 mr-2"> 
                <label class="text-sm font-medium text-gray-700">Date d'aujourd'hui (Gr√©gorien)</label>
            </div>
            <p id="date-aujourdhui" class="text-lg font-semibold text-indigo-700"></p>
        </div>

        <div class="mb-8">
            <label for="jours-a-ajouter" class="block text-sm font-medium text-gray-700 mb-2">
                Nombre de jours √† ajouter/soustraire (ex: 5 ou -10)
            </label>
            <input type="number" id="jours-a-ajouter" value="28"
                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-center text-xl shadow-sm"
                   placeholder="Entrez un nombre de jours">
        </div>

        <div id="resultats-section" class="mt-8 p-5 border border-gray-200 rounded-lg hidden">
            <h2 class="text-lg font-bold text-gray-800 mb-3 border-b pb-2">Nouvelle Date Calcul√©e</h2>

            <div class="mb-4">
                <div class="flex items-center">
                    <img src="TA.jpg" alt="Ic√¥ne Gr√©gorien" class="w-4 h-4 mr-2">
                    <label class="text-sm font-medium text-gray-600">Calendrier Gr√©gorien</label>
                </div>
                <p id="date-grego" class="text-xl font-extrabold text-green-600 mt-1"></p>
                <span id="ferie-gregorian-name" class="ferie-info hidden"></span>
            </div>

            <div>
                <div class="flex items-center">
                    <img src="TA.jpg" alt="Ic√¥ne Lunaire" class="w-4 h-4 mr-2"> 
                    <label class="text-sm font-medium text-gray-600">Calendrier Lunaire (Hijri)</label>
                </div>
                <p id="date-lunaire" class="text-xl font-extrabold text-red-600 mt-1"></p>
                <span id="ferie-hijri-name" class="ferie-info hidden"></span>
            </div>
        </div>

        <div id="erreur-message" class="mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded hidden">
            Veuillez entrer un nombre valide de jours.
        </div>
    </main>
</div>

<script>
    // --- LISTE DES JOURS F√âRI√âS ALG√âRIENS (ANN√âE 2025) ---
    // Mois commence √† 0 (0=Jan, 1=F√©v, 11=D√©c)
    const joursFeries = [
        // Jours f√©ri√©s civils (Fixes)
        { month: 0, day: 1, name: "Jour de l'An (Gr√©gorien)" }, // 1er janvier
        { month: 0, day: 12, name: "Yennayer (Nouvel An Berb√®re)" }, // 12 janvier
        { month: 4, day: 1, name: "F√™te du Travail" }, // 1er mai
        { month: 6, day: 5, name: "F√™te de l'Ind√©pendance" }, // 5 juillet
        { month: 9, day: 1, name: "F√™te de la R√©volution" }, // 1er novembre
        
        // Jours f√©ri√©s religieux (Dates Gr√©goriennes pr√©vues pour 2025)
        { month: 2, day: 31, name: "A√Ød el-Fitr (1er jour)" }, // 31 mars 2025
        { month: 3, day: 1, name: "A√Ød el-Fitr (2√®me jour)" }, // 1er avril 2025
        { month: 3, day: 2, name: "A√Ød el-Fitr (3√®me jour)" }, // 2 avril 2025
        
        { month: 5, day: 6, name: "A√Ød el-Adha (1er jour)" }, // 6 juin 2025
        { month: 5, day: 7, name: "A√Ød el-Adha (2√®me jour)" }, // 7 juin 2025
        { month: 5, day: 8, name: "A√Ød el-Adha (3√®me jour)" }, // 8 juin 2025

        { month: 5, day: 27, name: "Awal Mouharram (Nouvel An H√©girien)" }, // 27 juin 2025
        { month: 6, day: 5, name: "Achoura" }, // 5 juillet 2025 (Attention : co√Øncide avec F√™te de l'Ind√©pendance!)
        { month: 8, day: 4, name: "Mouloud (Mawlid Ennabaoui)" } // 4 septembre 2025
    ];

    // --- FONCTION DE V√âRIFICATION DES JOURS F√âRI√âS ---
    // Retourne le nom du jour f√©ri√© ou null si ce n'est pas un jour f√©ri√©
    function getJourFerieName(date) {
        const day = date.getDate();
        const month = date.getMonth(); // 0-11
        const year = date.getFullYear();

        // V√©rification des jours f√©ri√©s Gr√©goriens ou des dates Hijri pr√©vues
        const ferieMatch = joursFeries.find(ferie => {
            return ferie.day === day && ferie.month === month;
        });

        if (ferieMatch) return ferieMatch.name;

        // V√©rification des week-ends (Vendredi et Samedi)
        const dayOfWeek = date.getDay(); // Dimanche=0, Samedi=6
        if (dayOfWeek === 5) return "Jour de repos (Vendredi)";
        if (dayOfWeek === 6) return "Jour de repos (Samedi)";

        return null;
    }


    // --- FONCTIONS DE MISE √Ä JOUR DE L'INTERFACE ---

    // Fonction pour obtenir la date d'aujourd'hui au format requis
    function afficherDateAujourdhui() {
        const aujourdhui = new Date();
        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        
        document.getElementById('date-aujourdhui').textContent = aujourdhui.toLocaleDateString('fr-FR', options);
    }

    // Fonction principale de calcul
    function calculerDate() {
        const inputElement = document.getElementById('jours-a-ajouter');
        const joursAAjouter = parseInt(inputElement.value);
        const resultatsSection = document.getElementById('resultats-section');
        const erreurMessage = document.getElementById('erreur-message');
        
        const dateGregoElement = document.getElementById('date-grego');
        const dateLunaireElement = document.getElementById('date-lunaire');
        const ferieGregoNameElement = document.getElementById('ferie-gregorian-name');
        const ferieHijriNameElement = document.getElementById('ferie-hijri-name');

        // R√©initialisation des classes et des messages
        dateGregoElement.classList.remove('clignotant');
        dateLunaireElement.classList.remove('clignotant');
        ferieGregoNameElement.classList.add('hidden');
        ferieHijriNameElement.classList.add('hidden');


        if (inputElement.value === '' || isNaN(joursAAjouter)) {
            erreurMessage.classList.remove('hidden');
            resultatsSection.classList.add('hidden');
            return;
        }

        erreurMessage.classList.add('hidden');

        // 1. Calcul de la nouvelle date
        const dateActuelle = new Date();
        const nouvelleDate = new Date(dateActuelle.getTime());
        nouvelleDate.setDate(dateActuelle.getDate() + joursAAjouter);

        // 2. V√©rification du jour f√©ri√©
        const ferieName = getJourFerieName(nouvelleDate);
        if (ferieName) {
            // Application du style clignotant et du nom
            dateGregoElement.classList.add('clignotant');
            dateLunaireElement.classList.add('clignotant');
            ferieGregoNameElement.textContent = `üö® Jour F√©ri√© : ${ferieName}`;
            ferieHijriNameElement.textContent = `üö® Jour F√©ri√© : ${ferieName}`;
            ferieGregoNameElement.classList.remove('hidden');
            ferieHijriNameElement.classList.remove('hidden');
        }

        // 3. Formatage Gr√©gorien (EEEE d MMMM yyyy)
        const optionsGregorian = { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' };
        let dateGregoFormatted = nouvelleDate.toLocaleDateString('fr-FR', optionsGregorian);
        dateGregoFormatted = dateGregoFormatted.charAt(0).toUpperCase() + dateGregoFormatted.slice(1);

        // 4. Formatage Lunaire/Hijri
        const optionsHijri = {
            weekday: 'long',
            day: 'numeric',
            month: 'long',
            year: 'numeric',
            calendar: 'islamic-umalqura'
        };
        const dateHijriFormatted = nouvelleDate.toLocaleDateString('ar-DZ', optionsHijri);
        const hijriDisplay = dateHijriFormatted.replace(/ŸáŸÄ/g, '').trim();


        // 5. Affichage des r√©sultats
        dateGregoElement.textContent = dateGregoFormatted;
        dateLunaireElement.textContent = hijriDisplay;

        resultatsSection.classList.remove('hidden');
    }

    // Fonction d'initialisation et d'ajout de l'√©couteur d'√©v√©nement
    function initialiserApplication() {
        afficherDateAujourdhui();
        calculerDate(); // Calcul initial avec la valeur '28'
        
        const inputElement = document.getElementById('jours-a-ajouter');
        inputElement.addEventListener('input', calculerDate);
        inputElement.addEventListener('change', calculerDate);
    }

    // Lancement de l'initialisation au chargement de la page
    window.onload = initialiserApplication;
</script>

</body>
</html>